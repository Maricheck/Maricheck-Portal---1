# Maricheck - Maritime Crew Management System

## Overview

Maricheck is a Flask-based web application designed for managing maritime crew member registrations and staff recruitment. The system provides a dual-interface design with public-facing registration forms for crew and staff members, plus a protected admin dashboard for managing applications and tracking statuses.

## User Preferences

Preferred communication style: Simple, everyday language.

## Recent Changes (July 30, 2025)

âœ“ Removed hero section registration buttons - kept only heading and subheading text
âœ“ Simplified crew registration form by removing bank information and address fields
âœ“ Made mobile number and email required fields with proper validation
âœ“ Enhanced mobile responsiveness across the entire application
âœ“ Updated database models and forms to reflect simplified structure
âœ“ Maintained international phone input with country code adaptation

## System Architecture

### Frontend Architecture
- **Template Engine**: Jinja2 templating with Flask
- **UI Framework**: Bootstrap 5 with custom maritime theme
- **Icons**: Font Awesome 6.4.0 for consistent iconography
- **Typography**: Google Fonts (Inter) for professional appearance
- **Color Scheme**: Navy blue primary (#1e3a8a), Sea green accent (#20B2AA), Gold highlights (#fbbf24)
- **Responsive Design**: Mobile-first approach using Bootstrap grid system
- **Phone Input**: International telephone input with country code detection
- **File Uploads**: Multi-file upload support with preview functionality

### Backend Architecture
- **Framework**: Flask (Python web framework)
- **Database**: SQLAlchemy ORM with SQLite default (configurable to PostgreSQL)
- **Authentication**: Flask-Login for session-based admin authentication
- **Forms**: Flask-WTF with WTForms for form handling and validation
- **Security**: Werkzeug password hashing, CSRF protection
- **File Handling**: Secure file uploads with unique naming and organized storage
- **Environment Configuration**: Database URL and session secrets from environment variables

### Key Design Decisions
- **Dual Interface Design**: Separate public registration portal and protected admin dashboard
- **Database-Agnostic**: Supports both SQLite (development) and PostgreSQL (production)
- **Session-Based Authentication**: Simple admin login system without complex user roles
- **File Organization**: Structured upload system with categorized file storage
- **Responsive UI**: Mobile-optimized forms and admin interface

## Key Components

### User Interface Separation

**ðŸ”“ Public Interface (Crew & Staff):**
- **Home Page (`/`)**: Landing page with maritime-themed design and navigation
- **Crew Registration (`/register/crew`)**: Comprehensive crew member registration form
- **Staff Registration (`/register/staff`)**: Office and shore-based staff registration
- **Status Tracking (`/track`)**: Public status lookup using passport numbers

**ðŸ”’ Admin Interface (Protected):**
- **Admin Login (`/admin/login`)**: Authentication gateway for administrators
- **Dashboard (`/admin/dashboard`)**: Statistics overview and quick access to all functions
- **Crew Management (`/admin/crew`)**: List, search, filter, and manage crew applications
- **Staff Management (`/admin/staff`)**: Manage office staff applications and profiles
- **Profile Views**: Detailed individual profiles with document management
- **CSV Export**: Data export functionality for reporting

### Database Models

**Admin Model:**
- Basic authentication with username/password
- Session management through Flask-Login
- Created timestamp tracking

**CrewMember Model:**
- Comprehensive personal information (name, nationality, DOB, contact details)
- Professional details (rank, experience, vessel types, availability)
- Address and emergency contact information
- Bank information for payroll
- File upload tracking (passport, CDC, resume, photo)
- Status progression system (0-3 stages)

**StaffMember Model (Referenced but not fully shown):**
- Office and shore-based staff information
- Position and department tracking
- Similar status management system

### Form System

**CrewRegistrationForm:**
- Personal information validation
- Professional qualification fields
- Rank selection with maritime-specific options
- Date validation and experience tracking
- Address and emergency contact sections
- File upload fields for required documents

**Administrative Forms:**
- Admin login form with validation
- Status tracking form for public use
- Various management forms for admin operations

## Data Flow

### Registration Process
1. **User Access**: Crew/staff members access public registration forms
2. **Form Validation**: Client-side and server-side validation using WTForms
3. **File Upload**: Secure file handling with unique naming and organized storage
4. **Database Storage**: Registration data stored with initial status (0 - Registered)
5. **Confirmation**: Success page with tracking information provided

### Admin Management Flow
1. **Authentication**: Admin login with session management
2. **Dashboard Access**: Overview statistics and navigation
3. **Application Review**: Search, filter, and view detailed profiles
4. **Status Management**: Update application statuses through workflow stages
5. **Document Review**: View and manage uploaded documents
6. **Data Export**: Generate CSV reports for external processing

### Status Tracking System
- **Status 0**: Registered (initial state)
- **Status 1**: Screening (under review)
- **Status 2**: Documents Verified
- **Status 3**: Approved (ready for deployment)
- **Negative Statuses**: Rejected (-1), Flagged (-2) for issues

## External Dependencies

### Frontend Libraries
- **Bootstrap 5.3.0**: UI framework and responsive design
- **Font Awesome 6.4.0**: Icon library for maritime and professional icons
- **Google Fonts (Inter)**: Typography for professional appearance
- **intl-tel-input**: International phone number input with country detection

### Backend Dependencies
- **Flask**: Core web framework
- **Flask-SQLAlchemy**: Database ORM and management
- **Flask-Login**: Session-based authentication system
- **Flask-WTF**: Form handling and CSRF protection
- **WTForms**: Form validation and rendering
- **Werkzeug**: WSGI utilities and security features
- **Gunicorn**: Production WSGI server (referenced in requirements)

### File Storage
- **Local Storage**: Organized file upload system in `static/uploads/`
- **Security**: Secure filename generation with UUID components
- **Organization**: Categorized folders for different file types

## Deployment Strategy

### Development Setup
- **Local SQLite**: Default database for development and testing
- **Debug Mode**: Flask debug mode enabled for development
- **Environment Variables**: SESSION_SECRET and DATABASE_URL configuration

### Production Considerations
- **Database Migration**: Easy switch to PostgreSQL via DATABASE_URL
- **WSGI Server**: Gunicorn configured for production deployment
- **Proxy Support**: ProxyFix middleware for reverse proxy compatibility
- **Security**: Environment-based secret key management
- **File Uploads**: 16MB file size limit with organized storage structure

### Key Architectural Benefits
1. **Scalability**: Database-agnostic design allows easy scaling
2. **Security**: Proper authentication, CSRF protection, and secure file handling
3. **Maintainability**: Clear separation of concerns with MVC pattern
4. **User Experience**: Responsive design with professional maritime branding
5. **Data Management**: Comprehensive tracking and export capabilities
6. **Flexibility**: Configurable for different deployment environments